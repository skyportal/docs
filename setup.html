
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Setup &#8212; skyportal 1.0.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/output_cells.css?v=4c393c42" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="_static/documentation_options.js?v=f9c1cefe"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'setup';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="usage.html" />
    <link rel="prev" title="System Architecture" href="design.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.0.0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">skyportal 1.0.0 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="design.html">System Architecture</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev.html">Developer notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploy.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_loader.html">Data loader</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">How to Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_features.html">Adding new features</a></li>
<li class="toctree-l1"><a class="reference internal" href="adding_comments_annotation_types.html">Adding a new type of Comment or Annotation</a></li>
<li class="toctree-l1"><a class="reference internal" href="styling.html">Styling components</a></li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Database Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrations.html">Database migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="query_analysis.html">Analyzing database queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="permissions.html">Access controls</a></li>
<li class="toctree-l1"><a class="reference internal" href="slack.html">Slack Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="followup.html">Follow-up triggering</a></li>
<li class="toctree-l1"><a class="reference internal" href="mma.html">MMA Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="period.html">Periodic Timeseries Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="spatial_catalog.html">Spatial Catalogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_usage.html">Advanced usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="photometric_series.html">How to work with photometric series</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">SkyPortal Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="pages.html">Front-end Pages</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/setup.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Setup</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencies">Dependencies</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#source-download-python-environment">Source download, Python environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-macos">Installation: MacOS</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-shell-environment-for-development">Configuring Shell Environment for Development</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#open-your-zshrc-file-in-a-text-editor">Open your <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code> file in a text editor:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#set-enviroment-variables-to-their-installation-paths">Set enviroment variables to their installation paths</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#alias-pip3-and-python3">Alias pip3 and python3</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#to-activate-the-changes-source-your-zshrc-file">To activate the changes, source your .zshrc file:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#checking-for-port-availability">Checking for Port Availability</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-debian-based-linux-and-wsl">Installation: Debian-based Linux and WSL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#launch">Launch</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting">Troubleshooting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-configuration">Additional Configuration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#authentication">Authentication</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-an-administrative-user">Creating an administrative user</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-data">Test data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deploying-secure-http-ssl-certificate">Deploying secure HTTP / SSL certificate</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="setup">
<h1>Setup<a class="headerlink" href="#setup" title="Link to this heading">#</a></h1>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">#</a></h2>
<p>SkyPortal requires the following software to be installed.  We show
how to install them on MacOS and Debian-based systems below.</p>
<ul class="simple">
<li><p>Python 3.9 or later (&lt;3.13, since <code class="docutils literal notranslate"><span class="pre">numba</span></code> requires &lt;3.13)</p></li>
<li><p>Supervisor (v&gt;=4.2.1)</p></li>
<li><p>NGINX (v&gt;=1.7)</p></li>
<li><p>PostgreSQL (v&gt;=14.0)</p></li>
<li><p>Node.JS/npm (v&gt;=16.14.0/8.3.2)</p></li>
</ul>
<p>When installing SkyPortal on Debian-based systems, 2 additional packages are required to be able to install <code class="docutils literal notranslate"><span class="pre">pycurl</span></code> later on:</p>
<ul class="simple">
<li><p>libcurl4-gnutls-dev</p></li>
<li><p>libgnutls28-dev</p></li>
</ul>
</section>
<section id="source-download-python-environment">
<h2>Source download, Python environment<a class="headerlink" href="#source-download-python-environment" title="Link to this heading">#</a></h2>
<p>Clone the <a class="reference external" href="https://github.com/skyportal/skyportal">SkyPortal repository</a> and start a new
virtual environment.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">skyportal</span><span class="o">/</span><span class="n">skyportal</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">skyportal</span><span class="o">/</span>
<span class="n">virtualenv</span> <span class="n">skyportal_env</span>
<span class="n">source</span> <span class="n">skyportal_env</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">conda</span></code> or <code class="docutils literal notranslate"><span class="pre">pipenv</span></code> to create your environment.</p>
<p>If you developing on a Mac with an ARM (M1/M2) you might consider using a Rosetta-driven environment so that you more easily install dependencies (that tend to be x86-centric):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CONDA_SUBDIR</span><span class="o">=</span><span class="n">osx</span><span class="o">-</span><span class="mi">64</span> <span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">skyportal_env</span> \
      <span class="n">python</span><span class="o">=</span><span class="mf">3.10</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">skyportal_env</span>
<span class="n">conda</span> <span class="n">config</span> <span class="o">--</span><span class="n">env</span> <span class="o">--</span><span class="nb">set</span> <span class="n">subdir</span> <span class="n">osx</span><span class="o">-</span><span class="mi">64</span>
<span class="n">conda</span> <span class="n">config</span> <span class="o">--</span><span class="n">add</span> <span class="n">channels</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span>
<span class="n">conda</span> <span class="n">config</span> <span class="o">--</span><span class="nb">set</span> <span class="n">channel_priority</span> <span class="n">strict</span>
</pre></div>
</div>
<p>If you are using Windows Subsystem for Linux (WSL) be sure you clone the repository onto a location on the virtual machine, not the mounted Windows drive. Additionally, we recommend that you use WSL 2, and not WSL 1, in order to avoid complications in interfacing with the Linux image’s <code class="docutils literal notranslate"><span class="pre">localhost</span></code> network.</p>
</section>
<section id="installation-macos">
<h2>Installation: MacOS<a class="headerlink" href="#installation-macos" title="Link to this heading">#</a></h2>
<p>These instructions assume that you have <a class="reference external" href="http://brew.sh/">Homebrew</a> installed.</p>
<ol class="simple">
<li><p>Install project dependencies</p></li>
</ol>
<p>Using Homebrew, install core dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">supervisor</span> <span class="n">nginx</span> <span class="n">postgresql</span> <span class="n">node</span> <span class="n">llvm</span> <span class="n">libomp</span> <span class="n">gsl</span> <span class="n">rust</span>
</pre></div>
</div>
<p>If you want to use <a class="reference external" href="https://en.wikipedia.org/wiki/Brotli">brotli compression</a> with NGINX (better compression rates for the frontend), you can install NGINX with the <code class="docutils literal notranslate"><span class="pre">ngx_brotli</span></code> module with this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">tap</span> <span class="n">denji</span><span class="o">/</span><span class="n">nginx</span> <span class="o">&amp;&amp;</span> <span class="n">brew</span> <span class="n">install</span> <span class="n">nginx</span><span class="o">-</span><span class="n">full</span> <span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">brotli</span>
</pre></div>
</div>
<p><em>If you already had NGINX installed, you may need to uninstall it first with <code class="docutils literal notranslate"><span class="pre">brew</span> <span class="pre">unlink</span> <span class="pre">nginx</span></code>.</em> Otherwise, you can install NGINX normally with <code class="docutils literal notranslate"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">nginx</span></code>.</p>
<p>Then, install Node.js with NVM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nvm</span> <span class="n">install</span> <span class="n">node</span>
</pre></div>
</div>
<p>Finally, install these compression libraries. These are needed in order to install the Python dependency <code class="docutils literal notranslate"><span class="pre">tables</span></code> later on:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">hdf5</span> <span class="n">c</span><span class="o">-</span><span class="n">blosc</span> <span class="n">lzo</span> <span class="n">bzip2</span>
</pre></div>
</div>
<p>After installing each package, Homebrew will print out the installation paths. You should add these paths to your <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code> file to ensure SkyPortal can locate these libraries. Instructions for this can be found in the <a class="reference external" href="#configure-shell-mac">Configuring Shell Environment for Development</a> section below.</p>
<ol class="simple">
<li><p>Start the PostgreSQL server:</p></li>
</ol>
<ul class="simple">
<li><p>To start automatically at login: <code class="docutils literal notranslate"><span class="pre">brew</span> <span class="pre">services</span> <span class="pre">start</span> <span class="pre">postgresql</span></code></p></li>
<li><p>To start manually: <code class="docutils literal notranslate"><span class="pre">pg_ctl</span> <span class="pre">-D</span> <span class="pre">/usr/local/var/postgres</span> <span class="pre">start</span></code></p></li>
</ul>
<p>You may also need to run the following command to create the proper admin user:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/usr/local/opt/postgres/bin/createuser<span class="w"> </span>-s<span class="w"> </span>postgres
</pre></div>
</div>
<ol>
<li><p>To run the test suite, you’ll need Geckodriver:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">geckodriver</span>
</pre></div>
</div>
</li>
<li><p>To build the docs, you’ll need graphviz:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">graphviz</span>
</pre></div>
</div>
</li>
<li><p>Activate the environment and add a few (hard-to install-with-pip) packages by hand:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">skyportal_env</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">pyproj</span> <span class="n">numba</span> <span class="n">Shapely</span>
</pre></div>
</div>
</li>
<li><p>(ARM M1/M2) Explicitly <a class="reference external" href="https://lscsoft.docs.ligo.org/ligo.skymap/quickstart/install.html#option-2-conda">install ligo.skymap using conda rather than pip</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">skyportal_env</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">ligo</span><span class="o">.</span><span class="n">skymap</span>
</pre></div>
</div>
</li>
</ol>
<p><a name="configure-shell-mac"></a></p>
<section id="configuring-shell-environment-for-development">
<h3>Configuring Shell Environment for Development<a class="headerlink" href="#configuring-shell-environment-for-development" title="Link to this heading">#</a></h3>
<p>When developing with SkyPortal on mac, you may  also need to configure your shell enviroment. Here is how you can do that by editing your <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code> file.</p>
<section id="open-your-zshrc-file-in-a-text-editor">
<h4>Open your <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code> file in a text editor:<a class="headerlink" href="#open-your-zshrc-file-in-a-text-editor" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nano</span> <span class="o">~/.</span><span class="n">zshrc</span>
</pre></div>
</div>
</section>
<section id="set-enviroment-variables-to-their-installation-paths">
<h4>Set enviroment variables to their installation paths<a class="headerlink" href="#set-enviroment-variables-to-their-installation-paths" title="Link to this heading">#</a></h4>
<p>After installing the libraries with Homebrew, you’ll need to set environment variables to their installation paths. Replace the placeholder text <code class="docutils literal notranslate"><span class="pre">&lt;path-to-library&gt;</span></code> with the actual path that Homebrew provides upon sucessful installation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">HDF5_DIR</span><span class="o">=</span><span class="s2">&quot;&lt;path-to-hdf5&gt;&quot;</span>
<span class="n">export</span> <span class="n">BLOSC_DIR</span><span class="o">=</span><span class="s2">&quot;&lt;path-to-c-blosc&gt;&quot;</span>
<span class="n">export</span> <span class="n">LZO_DIR</span><span class="o">=</span><span class="s2">&quot;&lt;path-to-lzo&gt;&quot;</span>
<span class="n">export</span> <span class="n">BZIP_DIR</span><span class="o">=</span><span class="s2">&quot;&lt;path-to-bzip2&gt;&quot;</span>
</pre></div>
</div>
<p>Typically, Homebrew provides these paths upon successful installation. You can also discover where a library was installed by Homebrew with this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">info</span> <span class="o">&lt;</span><span class="n">name_of_package</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="alias-pip3-and-python3">
<h4>Alias pip3 and python3<a class="headerlink" href="#alias-pip3-and-python3" title="Link to this heading">#</a></h4>
<p>Depending on your system setup, the <code class="docutils literal notranslate"><span class="pre">python</span></code> and <code class="docutils literal notranslate"><span class="pre">pip</span></code> commands might point to Python 2 rather than Python 3. To ensure that you’re using Python 3 and its corresponding pip version, you may need to set aliases in your <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alias</span> <span class="n">pip</span><span class="o">=</span><span class="s1">&#39;pip3&#39;</span>
<span class="n">alias</span> <span class="n">python</span><span class="o">=</span><span class="s1">&#39;python3&#39;</span>
</pre></div>
</div>
</section>
<section id="to-activate-the-changes-source-your-zshrc-file">
<h4>To activate the changes, source your .zshrc file:<a class="headerlink" href="#to-activate-the-changes-source-your-zshrc-file" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">~/.</span><span class="n">zshrc</span>
</pre></div>
</div>
</section>
</section>
<section id="checking-for-port-availability">
<h3>Checking for Port Availability<a class="headerlink" href="#checking-for-port-availability" title="Link to this heading">#</a></h3>
<p>SkyPortal defaults to using port 5000. However, this port may already be in use by MacPorts or other services. To verify if port 5000 is available, use the <code class="docutils literal notranslate"><span class="pre">lsof</span></code> command in the terminal.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lsof</span> <span class="o">-</span><span class="n">i</span> <span class="p">:</span><span class="mi">5000</span>
</pre></div>
</div>
<p>If the command outputs information about a service, it means that port 5000 is already in use. In this case, you may need to configure SkyPortal to use a different port.</p>
</section>
</section>
<section id="installation-debian-based-linux-and-wsl">
<h2>Installation: Debian-based Linux and WSL<a class="headerlink" href="#installation-debian-based-linux-and-wsl" title="Link to this heading">#</a></h2>
<ol>
<li><p>Install dependencies</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">supervisor</span> <span class="n">postgresql</span> \
      <span class="n">libpq</span><span class="o">-</span><span class="n">dev</span> <span class="n">npm</span> <span class="n">python3</span><span class="o">-</span><span class="n">pip</span> \
      <span class="n">libcurl4</span><span class="o">-</span><span class="n">gnutls</span><span class="o">-</span><span class="n">dev</span> <span class="n">libgnutls28</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>If you want to use <a class="reference external" href="https://en.wikipedia.org/wiki/Brotli">brotli compression</a> with NGINX (better compression rates for the frontend), you have to install NGINX and the brotli module from another source with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">remove</span> <span class="o">-</span><span class="n">y</span> <span class="n">nginx</span> <span class="n">nginx</span><span class="o">-</span><span class="n">common</span> <span class="n">nginx</span><span class="o">-</span><span class="n">core</span>
<span class="n">sudo</span> <span class="n">add</span><span class="o">-</span><span class="n">apt</span><span class="o">-</span><span class="n">repository</span> <span class="n">ppa</span><span class="p">:</span><span class="n">ondrej</span><span class="o">/</span><span class="n">nginx</span><span class="o">-</span><span class="n">mainline</span> <span class="o">-</span><span class="n">y</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">update</span> <span class="o">-</span><span class="n">y</span>
<span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">nginx</span> <span class="n">libnginx</span><span class="o">-</span><span class="n">mod</span><span class="o">-</span><span class="n">brotli</span>
</pre></div>
</div>
<p>Otherwise, you can install NGINX normally with <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">nginx</span></code>.</p>
</li>
<li><p>Configure your database permissions.</p>
<p>In <code class="docutils literal notranslate"><span class="pre">pg_hba.conf</span></code> (typically located in
<code class="docutils literal notranslate"><span class="pre">/etc/postgresql/&lt;postgres-version&gt;/main</span></code>), insert the following lines
<em>before</em> any other <code class="docutils literal notranslate"><span class="pre">host</span></code> lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">host</span> <span class="n">skyportal</span> <span class="n">skyportal</span> <span class="mf">127.0.0.1</span><span class="o">/</span><span class="mi">32</span> <span class="n">trust</span>
<span class="n">host</span> <span class="n">skyportal_test</span> <span class="n">skyportal</span> <span class="mf">127.0.0.1</span><span class="o">/</span><span class="mi">32</span> <span class="n">trust</span>
<span class="n">host</span> <span class="nb">all</span> <span class="n">postgres</span> <span class="mf">127.0.0.1</span><span class="o">/</span><span class="mi">32</span> <span class="n">trust</span>
</pre></div>
</div>
<p>If you are deploying SkyPortal using IPv6 rather than IPv4, you should add the following lines instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">host</span> <span class="n">skyportal</span> <span class="n">skyportal</span> <span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="n">trust</span>
<span class="n">host</span> <span class="n">skyportal_test</span> <span class="n">skyportal</span> <span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="n">trust</span>
<span class="n">host</span> <span class="nb">all</span> <span class="n">postgres</span> <span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="n">trust</span>
</pre></div>
</div>
<p>In some PostgreSQL installations, the default TCP port may be different from the 5432 value assumed in our default configuration file values. To remedy this, you can either edit your config.yaml file to reflect your system’s PostgreSQL default port, or update your system-wide config to use port 5432 by editing /etc/postgresql/14/main/postgresql.conf (replace “14” with your installed version number) and changing the line <code class="docutils literal notranslate"><span class="pre">port</span> <span class="pre">=</span> <span class="pre">XXXX</span></code> (where “XXXX” is whatever the system default was) to <code class="docutils literal notranslate"><span class="pre">port</span> <span class="pre">=</span> <span class="pre">5432</span></code>.</p>
<p>Restart PostgreSQL:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">service</span> <span class="n">postgresql</span> <span class="n">restart</span>
</pre></div>
</div>
</li>
<li><p>To run the test suite, you’ll need Geckodriver:</p>
<ul class="simple">
<li><p>Download the latest version from https://github.com/mozilla/geckodriver/releases/</p></li>
<li><p>Extract the binary to somewhere on your path</p></li>
<li><p>Ensure it runs with <code class="docutils literal notranslate"><span class="pre">geckodriver</span> <span class="pre">--version</span></code></p></li>
</ul>
<p>In later versions of Ubuntu (16.04+), you can install Geckodriver through apt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">firefox</span><span class="o">-</span><span class="n">geckodriver</span>
</pre></div>
</div>
</li>
<li><p>To build the docs, you’ll need graphviz:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">graphviz</span><span class="o">-</span><span class="n">dev</span> <span class="n">graphviz</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="launch">
<h2>Launch<a class="headerlink" href="#launch" title="Link to this heading">#</a></h2>
<ol class="simple">
<li><p>Make sure you are in the skyportal env: <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">activate</span> <span class="pre">skyportal_env</span></code></p></li>
<li><p>Initialize the database with <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">db_init</span></code> (this only needs to
happen once).</p></li>
<li><p>Copy <code class="docutils literal notranslate"><span class="pre">config.yaml.defaults</span></code> to <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code>.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">log</span></code> to monitor the service and, in a separate window, <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">run</span></code> to start the server.</p></li>
<li><p>Direct your browser to <code class="docutils literal notranslate"><span class="pre">http://localhost:5000</span></code>.</p></li>
<li><p>If you want some test data to play with, run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">load_demo_data</span></code> (do this while the server is running!).</p></li>
<li><p>Change users by navigating to <code class="docutils literal notranslate"><span class="pre">http://localhost:5000/become_user/&lt;#&gt;</span></code> where # is a number from 1-5.
Different users have different privileges and can see more or less of the demo data.</p></li>
</ol>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">#</a></h2>
<p>If you have trouble getting the demo data try doing</p>
<p><code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">db_clear</span> <span class="pre">&amp;&amp;</span> <span class="pre">make</span> <span class="pre">db_init</span> <span class="pre">&amp;&amp;</span> <span class="pre">make</span> <span class="pre">run</span></code></p>
<p>and then, from a different window, do <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">load_demo_data</span></code>.</p>
<p>If you are using WSL, be sure everything (the git repository and all dependencies) are on the Linux machine and not the Windows side, as connection oddities can otherwise cause several errors.</p>
<p>Mac users may need to disable Airplay Receiver in System Preferences to free up port 5000 and avoid a 403 Forbidden error.</p>
</section>
<section id="additional-configuration">
<h2>Additional Configuration<a class="headerlink" href="#additional-configuration" title="Link to this heading">#</a></h2>
<p>The configuration file lives in <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code>, and is meant to be
self-documenting.  Please modify as you see fit.</p>
<p><strong>Before deploying this on a public server</strong> change <code class="docutils literal notranslate"><span class="pre">app:secret-key</span></code>
to a unique value.</p>
<p>If you want to use a different configuration file, you may launch any
of the SkyPortal commands with the FLAGS environment variable set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FLAGS</span><span class="o">=</span><span class="s2">&quot;--config=myconfig.yaml&quot;</span> <span class="n">make</span> <span class="n">run</span>
</pre></div>
</div>
<section id="authentication">
<h3>Authentication<a class="headerlink" href="#authentication" title="Link to this heading">#</a></h3>
<p>By default, the server allows anyone to log in (even if it presents a
login screen).  If you are running a public-facing instance of
SkyPortal, you should enable multi-user login by adding Google
credentials to the <code class="docutils literal notranslate"><span class="pre">server:auth</span></code> section of the configuration file and
setting <code class="docutils literal notranslate"><span class="pre">debug_login</span></code> to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</section>
<section id="creating-an-administrative-user">
<h3>Creating an administrative user<a class="headerlink" href="#creating-an-administrative-user" title="Link to this heading">#</a></h3>
<p>By default, no user has permission to perform system administration.
You can give this and other permissions to an existing user by running the following from your terminal in the <code class="docutils literal notranslate"><span class="pre">skyportal</span></code> directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PYTHONPATH</span><span class="o">=.</span> <span class="n">python</span> <span class="n">tools</span><span class="o">/</span><span class="n">set_user_role</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;&lt;username&gt;&quot;</span> <span class="o">--</span><span class="n">role</span><span class="o">=</span><span class="s2">&quot;&lt;role&gt;&quot;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">role</span></code> argument is optional, and defaults to <code class="docutils literal notranslate"><span class="pre">Super</span> <span class="pre">admin</span></code>.</p>
<p>You may also list all users and their roles:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PYTHONPATH</span><span class="o">=.</span> <span class="n">python</span> <span class="n">tools</span><span class="o">/</span><span class="n">set_user_role</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="nb">list</span>
</pre></div>
</div>
</section>
<section id="test-data">
<h3>Test data<a class="headerlink" href="#test-data" title="Link to this heading">#</a></h3>
<p>By default, SkyPortal contains no data.  You can ingest some sample light curves by running</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">load_demo_data</span>
</pre></div>
</div>
<p>This also adds <code class="docutils literal notranslate"><span class="pre">testuser&#64;cesium-ml.org</span></code> as an administrator.</p>
</section>
<section id="deploying-secure-http-ssl-certificate">
<h3>Deploying secure HTTP / SSL certificate<a class="headerlink" href="#deploying-secure-http-ssl-certificate" title="Link to this heading">#</a></h3>
<p>When running a public server, you will likely want to deploy an SSL certificate (i.e., serve <code class="docutils literal notranslate"><span class="pre">https://your.url</span></code> instead of <code class="docutils literal notranslate"><span class="pre">http://your.url</span></code>). Certificates can be obtained for free from services such as Let’s Encrypt (https://letsencrypt.org/).</p>
<p><a class="reference external" href="https://certbot.eff.org/">certbot</a> is software for helping you obtain a new SSL certificate from Let’s Encrypt.
To do so, it first verifies that your server is running (without SSL) at the specified domain.</p>
<p>Start SkyPortal using <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">run</span></code>.</p>
<p>Then, install <code class="docutils literal notranslate"><span class="pre">certbot</span></code>:
pip install certbot-nginx</p>
<p>Ask <code class="docutils literal notranslate"><span class="pre">certbot</span></code> to verify the service and retrieve a new certificate:
sudo certbot certonly –standalone –preferred-challenges http -d http://your.url
or similar if using https
sudo certbot certonly –standalone –preferred-challenges https -d https://your.url</p>
<p>To renew and retrieve the certificate, do:
sudo certbot renew</p>
<p>Next, modify the nginx configuration in <code class="docutils literal notranslate"><span class="pre">baselayer/services/nginx/nginx.conf.template</span></code> to use the newly generated certificate, placing it at the top of the server section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">server</span> <span class="p">{</span>
  <span class="n">listen</span> <span class="p">[::]:</span><span class="mi">443</span> <span class="n">ssl</span> <span class="n">ipv6only</span><span class="o">=</span><span class="n">on</span><span class="p">;</span>
  <span class="n">listen</span> <span class="mi">443</span> <span class="n">ssl</span><span class="p">;</span>
  <span class="n">ssl_certificate</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">/</span><span class="n">live</span><span class="o">/</span><span class="p">{</span><span class="n">YOUR_DOMAIN_HERE</span><span class="p">}</span><span class="o">/</span><span class="n">fullchain</span><span class="o">.</span><span class="n">pem</span><span class="p">;</span>
  <span class="n">ssl_certificate_key</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">/</span><span class="n">live</span><span class="o">/</span><span class="p">{</span><span class="n">YOUR_DOMAIN_HERE</span><span class="p">}</span><span class="o">/</span><span class="n">privkey</span><span class="o">.</span><span class="n">pem</span><span class="p">;</span>
  <span class="n">include</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">/</span><span class="n">options</span><span class="o">-</span><span class="n">ssl</span><span class="o">-</span><span class="n">nginx</span><span class="o">.</span><span class="n">conf</span><span class="p">;</span>
  <span class="n">ssl_dhparam</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">/</span><span class="n">ssl</span><span class="o">-</span><span class="n">dhparams</span><span class="o">.</span><span class="n">pem</span><span class="p">;</span>
  <span class="o">...</span>
</pre></div>
</div>
<p>}</p>
<p>Finally, stop the app and run it again using <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">run</span></code>.</p>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="design.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">System Architecture</p>
      </div>
    </a>
    <a class="right-next"
       href="usage.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Usage</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencies">Dependencies</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#source-download-python-environment">Source download, Python environment</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-macos">Installation: MacOS</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring-shell-environment-for-development">Configuring Shell Environment for Development</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#open-your-zshrc-file-in-a-text-editor">Open your <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code> file in a text editor:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#set-enviroment-variables-to-their-installation-paths">Set enviroment variables to their installation paths</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#alias-pip3-and-python3">Alias pip3 and python3</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#to-activate-the-changes-source-your-zshrc-file">To activate the changes, source your .zshrc file:</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#checking-for-port-availability">Checking for Port Availability</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation-debian-based-linux-and-wsl">Installation: Debian-based Linux and WSL</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#launch">Launch</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting">Troubleshooting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-configuration">Additional Configuration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#authentication">Authentication</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-an-administrative-user">Creating an administrative user</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-data">Test data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deploying-secure-http-ssl-certificate">Deploying secure HTTP / SSL certificate</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The SkyPortal Team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2020–2023, The SkyPortal Team.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>